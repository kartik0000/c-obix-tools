\hypertarget{obix__client__dummy_8c}{
\section{obix\_\-client\_\-dummy.c File Reference}
\label{obix__client__dummy_8c}\index{obix\_\-client\_\-dummy.c@{obix\_\-client\_\-dummy.c}}
}
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include \char`\"{}obix\_\-client.h\char`\"{}}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \textbf{\_\-obix\_\-listener}
\item 
struct \textbf{\_\-obix\_\-device}
\item 
struct \textbf{\_\-obix\_\-connection}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\hypertarget{obix__client__dummy_8c_053b7859476cc9867ec62c49e68d3fa1}{
\#define \textbf{MAX\_\-CONNECTIONS}~3}
\label{obix__client__dummy_8c_053b7859476cc9867ec62c49e68d3fa1}

\item 
\hypertarget{obix__client__dummy_8c_4e132cfaa78353e3af1474a86b2dd535}{
\#define \textbf{MAX\_\-DEVICES}~20}
\label{obix__client__dummy_8c_4e132cfaa78353e3af1474a86b2dd535}

\item 
\hypertarget{obix__client__dummy_8c_3758b8b01bc6515af89000d28883f7a3}{
\#define \textbf{MAX\_\-LISTENERS}~5}
\label{obix__client__dummy_8c_3758b8b01bc6515af89000d28883f7a3}

\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
\hypertarget{obix__client__dummy_8c_82bcc97a89d4e1df7bf88c01b6aa65ff}{
typedef struct \_\-obix\_\-listener \textbf{obix\_\-listener}}
\label{obix__client__dummy_8c_82bcc97a89d4e1df7bf88c01b6aa65ff}

\item 
\hypertarget{obix__client__dummy_8c_7f1fd49758f3d378221e2ae9ea9f0621}{
typedef struct \_\-obix\_\-device \textbf{obix\_\-device}}
\label{obix__client__dummy_8c_7f1fd49758f3d378221e2ae9ea9f0621}

\item 
\hypertarget{obix__client__dummy_8c_1916312fa19ac5744b146c2992b87b6a}{
typedef struct \_\-obix\_\-connection \textbf{obix\_\-connection}}
\label{obix__client__dummy_8c_1916312fa19ac5744b146c2992b87b6a}

\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
\hypertarget{obix__client__dummy_8c_a0cd715c7b6b540656ac30d3a4593f1e}{
int \textbf{obix\_\-openConnection} (const char $\ast$serverAddress)}
\label{obix__client__dummy_8c_a0cd715c7b6b540656ac30d3a4593f1e}

\item 
int \hyperlink{obix__client__dummy_8c_7b106f351f5d74dbdce3dad225fd0e4b}{obix\_\-closeConnection} (int connectionId)
\item 
int \hyperlink{obix__client__dummy_8c_dd3c667748a3796f3b3945f96a86095b}{obix\_\-registerDevice} (int connectionId, const char $\ast$obixData)
\item 
int \hyperlink{obix__client__dummy_8c_9d339fe0e2d3c3daf42975e95747e703}{obix\_\-unregisterDevice} (int connectionId, int deviceId)
\item 
\hypertarget{obix__client__dummy_8c_8d59b4a8294dfd75f6cee96dfab6b990}{
int \textbf{obix\_\-writeValue} (int connectionId, int deviceId, const char $\ast$paramUri, const char $\ast$newValue)}
\label{obix__client__dummy_8c_8d59b4a8294dfd75f6cee96dfab6b990}

\item 
int \hyperlink{obix__client__dummy_8c_6d554298664e9ad93b62e83d1606d02e}{obix\_\-registerListener} (int connectionId, int deviceId, const char $\ast$paramUri, \hyperlink{obix__client_8h_0197aa45d0471b2708a5bd01c30d7786}{obix\_\-update\_\-listener} listener)
\item 
\hypertarget{obix__client__dummy_8c_298d03f67e7a2aa259c1ac8717eef3bf}{
int \textbf{obix\_\-unregisterListener} (int connectionId, int deviceId, const char $\ast$paramUri)}
\label{obix__client__dummy_8c_298d03f67e7a2aa259c1ac8717eef3bf}

\end{CompactItemize}


\subsection{Detailed Description}
Dummy implementation of oBIX client library. 

Definition in file \hyperlink{obix__client__dummy_8c-source}{obix\_\-client\_\-dummy.c}.

\subsection{Function Documentation}
\hypertarget{obix__client__dummy_8c_7b106f351f5d74dbdce3dad225fd0e4b}{
\index{obix\_\-client\_\-dummy.c@{obix\_\-client\_\-dummy.c}!obix\_\-closeConnection@{obix\_\-closeConnection}}
\index{obix\_\-closeConnection@{obix\_\-closeConnection}!obix_client_dummy.c@{obix\_\-client\_\-dummy.c}}
\subsubsection[obix\_\-closeConnection]{\setlength{\rightskip}{0pt plus 5cm}int obix\_\-closeConnection (int {\em connectionId})}}
\label{obix__client__dummy_8c_7b106f351f5d74dbdce3dad225fd0e4b}


Closes specified connection releasing all used resources. Also unregisters all devices and listeners which were registered using this connection.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em connectionId}]ID of the connection which should be closed. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{obix__client_8h_79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628}{OBIX\_\-SUCCESS} on success, error code otherwise. \end{Desc}


Definition at line 151 of file obix\_\-client\_\-dummy.c.

References OBIX\_\-SUCCESS.\hypertarget{obix__client__dummy_8c_dd3c667748a3796f3b3945f96a86095b}{
\index{obix\_\-client\_\-dummy.c@{obix\_\-client\_\-dummy.c}!obix\_\-registerDevice@{obix\_\-registerDevice}}
\index{obix\_\-registerDevice@{obix\_\-registerDevice}!obix_client_dummy.c@{obix\_\-client\_\-dummy.c}}
\subsubsection[obix\_\-registerDevice]{\setlength{\rightskip}{0pt plus 5cm}int obix\_\-registerDevice (int {\em connectionId}, \/  const char $\ast$ {\em obixData})}}
\label{obix__client__dummy_8c_dd3c667748a3796f3b3945f96a86095b}


Posts the provided device information to the oBIX server.

\begin{Desc}
\item[Note:]Input data is not tested to conform with oBIX specification. Is is strongly recommended to provide {\em displayName\/} attribute to every object. Also attributes {\em href\/} and {\em writable\/} are obligatory for all device parameters which are going to be changed by the device driver or external oBIX server users. {\em writable\/} attribute should be set to {\em true\/}; {\em href\/} attribute should have a valid URI, relative to the parent object.\end{Desc}
\par
 Example: 

\begin{Code}\begin{verbatim} <obj name="light" href="/kitchen/light/" displayName="Kitchen lights">
     <bool name="switch"
         href="switch/"
         displayName="Switch"
         is="obix:bool"
         val="true"
         writable="true"/>
 </obj>
\end{verbatim}
\end{Code}



\begin{Desc}
\item[Note:]Parent object can specify {\em href\/} attribute but the oBIX server can modify it (for instance, add prefix of the device storage), thus URI can't be used to refer to the device record. Use device ID instead.\end{Desc}
\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em connectionId}]ID of the connection which should be used. \item[{\em obixData}]oBIX object representing the new device. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\begin{itemize}
\item $>$0 ID of the created device record; \item $<$0 error code. \end{itemize}
\end{Desc}


Definition at line 188 of file obix\_\-client\_\-dummy.c.

References OBIX\_\-ERR\_\-LIMIT\_\-REACHED, OBIX\_\-ERR\_\-UNKNOWN\_\-BUG, and OBIX\_\-SUCCESS.\hypertarget{obix__client__dummy_8c_6d554298664e9ad93b62e83d1606d02e}{
\index{obix\_\-client\_\-dummy.c@{obix\_\-client\_\-dummy.c}!obix\_\-registerListener@{obix\_\-registerListener}}
\index{obix\_\-registerListener@{obix\_\-registerListener}!obix_client_dummy.c@{obix\_\-client\_\-dummy.c}}
\subsubsection[obix\_\-registerListener]{\setlength{\rightskip}{0pt plus 5cm}int obix\_\-registerListener (int {\em connectionId}, \/  int {\em deviceId}, \/  const char $\ast$ {\em paramUri}, \/  {\bf obix\_\-update\_\-listener} {\em listener})}}
\label{obix__client__dummy_8c_6d554298664e9ad93b62e83d1606d02e}


Registers listener for device parameter updates.

Overwrites existing listener if is called twice.

This method can be also used to subscribe for the updates of any objects stored at the oBIX server. In that case {\em 0\/} should be provided as {\em deviceId\/} and {\em paramUri\/} should be relative to the server root.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em connectionId}]ID of the connection which should be used. \item[{\em deviceId}]ID of the device whose parameter should be monitored or {\em 0\/} if the parameter doesn't belong to devices registered by this client. \item[{\em paramUri}]URI of the parameter which should be monitored. It should be either relative to the device record like it was provided during device registration, or relative to the server root if changing parameter doesn't belong to devices registered by this client. \item[{\em listener}]Pointer to the listener function which would be invoked every time when the subscribed parameter is changed. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\begin{itemize}
\item $>$=0 ID of the created listener; \item $<$0 error code. \end{itemize}
\end{Desc}


Definition at line 333 of file obix\_\-client\_\-dummy.c.

References OBIX\_\-ERR\_\-LIMIT\_\-REACHED, OBIX\_\-ERR\_\-UNKNOWN\_\-BUG, and OBIX\_\-SUCCESS.\hypertarget{obix__client__dummy_8c_9d339fe0e2d3c3daf42975e95747e703}{
\index{obix\_\-client\_\-dummy.c@{obix\_\-client\_\-dummy.c}!obix\_\-unregisterDevice@{obix\_\-unregisterDevice}}
\index{obix\_\-unregisterDevice@{obix\_\-unregisterDevice}!obix_client_dummy.c@{obix\_\-client\_\-dummy.c}}
\subsubsection[obix\_\-unregisterDevice]{\setlength{\rightskip}{0pt plus 5cm}int obix\_\-unregisterDevice (int {\em connectionId}, \/  int {\em deviceId})}}
\label{obix__client__dummy_8c_9d339fe0e2d3c3daf42975e95747e703}


Removes device record from the oBIX server. Also removes all listeners which were registered for this device.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em connectionId}]ID of the connection which should be used. \item[{\em deviceId}]ID of the device which should be removed. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\hyperlink{obix__client_8h_79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628}{OBIX\_\-SUCCESS} if the device record is removed successfully, error code otherwise. \end{Desc}


Definition at line 236 of file obix\_\-client\_\-dummy.c.

References OBIX\_\-SUCCESS.