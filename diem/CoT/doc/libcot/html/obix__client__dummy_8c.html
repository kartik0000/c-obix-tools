<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libcot: obix_client_dummy.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>obix_client_dummy.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;<a class="el" href="obix__client_8h-source.html">obix_client.h</a>&quot;</code><br>

<p>
<a href="obix__client__dummy_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>_obix_listener</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>_obix_device</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>_obix_connection</b></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="053b7859476cc9867ec62c49e68d3fa1"></a><!-- doxytag: member="obix_client_dummy.c::MAX_CONNECTIONS" ref="053b7859476cc9867ec62c49e68d3fa1" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_CONNECTIONS</b>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4e132cfaa78353e3af1474a86b2dd535"></a><!-- doxytag: member="obix_client_dummy.c::MAX_DEVICES" ref="4e132cfaa78353e3af1474a86b2dd535" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_DEVICES</b>&nbsp;&nbsp;&nbsp;20</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3758b8b01bc6515af89000d28883f7a3"></a><!-- doxytag: member="obix_client_dummy.c::MAX_LISTENERS" ref="3758b8b01bc6515af89000d28883f7a3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_LISTENERS</b>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="82bcc97a89d4e1df7bf88c01b6aa65ff"></a><!-- doxytag: member="obix_client_dummy.c::obix_listener" ref="82bcc97a89d4e1df7bf88c01b6aa65ff" args="" -->
typedef struct _obix_listener&nbsp;</td><td class="memItemRight" valign="bottom"><b>obix_listener</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7f1fd49758f3d378221e2ae9ea9f0621"></a><!-- doxytag: member="obix_client_dummy.c::obix_device" ref="7f1fd49758f3d378221e2ae9ea9f0621" args="" -->
typedef struct _obix_device&nbsp;</td><td class="memItemRight" valign="bottom"><b>obix_device</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1916312fa19ac5744b146c2992b87b6a"></a><!-- doxytag: member="obix_client_dummy.c::obix_connection" ref="1916312fa19ac5744b146c2992b87b6a" args="" -->
typedef struct _obix_connection&nbsp;</td><td class="memItemRight" valign="bottom"><b>obix_connection</b></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0cd715c7b6b540656ac30d3a4593f1e"></a><!-- doxytag: member="obix_client_dummy.c::obix_openConnection" ref="a0cd715c7b6b540656ac30d3a4593f1e" args="(const char *serverAddress)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>obix_openConnection</b> (const char *serverAddress)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client__dummy_8c.html#7b106f351f5d74dbdce3dad225fd0e4b">obix_closeConnection</a> (int connectionId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client__dummy_8c.html#dd3c667748a3796f3b3945f96a86095b">obix_registerDevice</a> (int connectionId, const char *obixData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client__dummy_8c.html#9d339fe0e2d3c3daf42975e95747e703">obix_unregisterDevice</a> (int connectionId, int deviceId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8d59b4a8294dfd75f6cee96dfab6b990"></a><!-- doxytag: member="obix_client_dummy.c::obix_writeValue" ref="8d59b4a8294dfd75f6cee96dfab6b990" args="(int connectionId, int deviceId, const char *paramUri, const char *newValue)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>obix_writeValue</b> (int connectionId, int deviceId, const char *paramUri, const char *newValue)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client__dummy_8c.html#6d554298664e9ad93b62e83d1606d02e">obix_registerListener</a> (int connectionId, int deviceId, const char *paramUri, <a class="el" href="obix__client_8h.html#0197aa45d0471b2708a5bd01c30d7786">obix_update_listener</a> listener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="298d03f67e7a2aa259c1ac8717eef3bf"></a><!-- doxytag: member="obix_client_dummy.c::obix_unregisterListener" ref="298d03f67e7a2aa259c1ac8717eef3bf" args="(int connectionId, int deviceId, const char *paramUri)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>obix_unregisterListener</b> (int connectionId, int deviceId, const char *paramUri)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Dummy implementation of oBIX client library. 
<p>Definition in file <a class="el" href="obix__client__dummy_8c-source.html">obix_client_dummy.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7b106f351f5d74dbdce3dad225fd0e4b"></a><!-- doxytag: member="obix_client_dummy.c::obix_closeConnection" ref="7b106f351f5d74dbdce3dad225fd0e4b" args="(int connectionId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_closeConnection           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes specified connection releasing all used resources. Also unregisters all devices and listeners which were registered using this connection.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be closed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> on success, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client__dummy_8c-source.html#l00151">151</a> of file <a class="el" href="obix__client__dummy_8c-source.html">obix_client_dummy.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="dd3c667748a3796f3b3945f96a86095b"></a><!-- doxytag: member="obix_client_dummy.c::obix_registerDevice" ref="dd3c667748a3796f3b3945f96a86095b" args="(int connectionId, const char *obixData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_registerDevice           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>obixData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Posts the provided device information to the oBIX server.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Input data is not tested to conform with oBIX specification. Is is strongly recommended to provide <em>displayName</em> attribute to every object. Also attributes <em>href</em> and <em>writable</em> are obligatory for all device parameters which are going to be changed by the device driver or external oBIX server users. <em>writable</em> attribute should be set to <em>true</em>; <em>href</em> attribute should have a valid URI, relative to the parent object.</dd></dl>
<br>
 Example: <div class="fragment"><pre class="fragment"> &lt;obj name=<span class="stringliteral">"light"</span> href=<span class="stringliteral">"/kitchen/light/"</span> displayName=<span class="stringliteral">"Kitchen lights"</span>&gt;
     &lt;<span class="keywordtype">bool</span> name=<span class="stringliteral">"switch"</span>
         href=<span class="stringliteral">"switch/"</span>
         displayName=<span class="stringliteral">"Switch"</span>
         is=<span class="stringliteral">"obix:bool"</span>
         val=<span class="stringliteral">"true"</span>
         writable=<span class="stringliteral">"true"</span>/&gt;
 &lt;/obj&gt;
</pre></div><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Parent object can specify <em>href</em> attribute but the oBIX server can modify it (for instance, add prefix of the device storage), thus URI can't be used to refer to the device record. Use device ID instead.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obixData</em>&nbsp;</td><td>oBIX object representing the new device. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>&gt;0 ID of the created device record; </li>
<li>&lt;0 error code. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="obix__client__dummy_8c-source.html#l00188">188</a> of file <a class="el" href="obix__client__dummy_8c-source.html">obix_client_dummy.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00067">OBIX_ERR_LIMIT_REACHED</a>, <a class="el" href="obix__client_8h-source.html#l00071">OBIX_ERR_UNKNOWN_BUG</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="6d554298664e9ad93b62e83d1606d02e"></a><!-- doxytag: member="obix_client_dummy.c::obix_registerListener" ref="6d554298664e9ad93b62e83d1606d02e" args="(int connectionId, int deviceId, const char *paramUri, obix_update_listener listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_registerListener           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>paramUri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obix__client_8h.html#0197aa45d0471b2708a5bd01c30d7786">obix_update_listener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers listener for device parameter updates.<p>
Overwrites existing listener if is called twice.<p>
This method can be also used to subscribe for the updates of any objects stored at the oBIX server. In that case <em>0</em> should be provided as <em>deviceId</em> and <em>paramUri</em> should be relative to the server root.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device whose parameter should be monitored or <em>0</em> if the parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paramUri</em>&nbsp;</td><td>URI of the parameter which should be monitored. It should be either relative to the device record like it was provided during device registration, or relative to the server root if changing parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Pointer to the listener function which would be invoked every time when the subscribed parameter is changed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>&gt;=0 ID of the created listener; </li>
<li>&lt;0 error code. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="obix__client__dummy_8c-source.html#l00333">333</a> of file <a class="el" href="obix__client__dummy_8c-source.html">obix_client_dummy.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00067">OBIX_ERR_LIMIT_REACHED</a>, <a class="el" href="obix__client_8h-source.html#l00071">OBIX_ERR_UNKNOWN_BUG</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d339fe0e2d3c3daf42975e95747e703"></a><!-- doxytag: member="obix_client_dummy.c::obix_unregisterDevice" ref="9d339fe0e2d3c3daf42975e95747e703" args="(int connectionId, int deviceId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_unregisterDevice           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>deviceId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes device record from the oBIX server. Also removes all listeners which were registered for this device.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device which should be removed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if the device record is removed successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client__dummy_8c-source.html#l00236">236</a> of file <a class="el" href="obix__client__dummy_8c-source.html">obix_client_dummy.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 20 18:50:46 2009 for libcot by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
