<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libcot: obix_client.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>obix_client.h File Reference</h1><code>#include &lt;ixml_ext.h&gt;</code><br>

<p>
<a href="obix__client_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#0197aa45d0471b2708a5bd01c30d7786">obix_update_listener</a> )(int connectionId, int deviceId, int listenerId, const char *newValue)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828">OBIX_ERRORCODE</a> { <br>
&nbsp;&nbsp;<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> =  0, 
<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c1c2c76cb62586f8900a60ff05106343">OBIX_ERR_INVALID_ARGUMENT</a> =  -1, 
<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d79382817b46ba016798f6c4f2300f8fa0b104a">OBIX_ERR_NO_MEMORY</a> =  -2, 
<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d7938284547ce0fe5585489b3217dd49d07a5f0">OBIX_ERR_INVALID_STATE</a> =  -3, 
<br>
&nbsp;&nbsp;<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d7938289c1ccf413203a3c729060a8ce6a9c438">OBIX_ERR_LIMIT_REACHED</a> =  -4, 
<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d7938282dc3a47baeefd958b9fc95029a07a0c7">OBIX_ERR_BAD_CONNECTION</a> =  -5, 
<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d79382868ab664c04e68ef022f8247c20cf8d62">OBIX_ERR_UNKNOWN_BUG</a> =  -100, 
<a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828419578be489b19682df329e24be9e33f">OBIX_ERR_HTTP_LIB</a> =  -6
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OBIX_DATA_TYPE</b> { <br>
&nbsp;&nbsp;<b>OBIX_T_BOOL</b>, 
<b>OBIX_T_INT</b>, 
<b>OBIX_T_REAL</b>, 
<b>OBIX_T_STR</b>, 
<br>
&nbsp;&nbsp;<b>OBIX_T_ENUM</b>, 
<b>OBIX_T_ABSTIME</b>, 
<b>OBIX_T_RELTIME</b>, 
<b>OBIX_T_URI</b>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#227b9d2362a744a4d3af43c31eec92bb">obix_loadConfigFile</a> (const char *fileName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#bea2db6474251887a883016e86a02198">obix_loadConfig</a> (IXML_Element *config)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#af779e0cf88cabf1986b7f519d427f41">obix_dispose</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#79a8743c9b012df3af7a06483fb7d7cc">obix_openConnection</a> (int connectionId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#7b106f351f5d74dbdce3dad225fd0e4b">obix_closeConnection</a> (int connectionId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#dd3c667748a3796f3b3945f96a86095b">obix_registerDevice</a> (int connectionId, const char *obixData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#9d339fe0e2d3c3daf42975e95747e703">obix_unregisterDevice</a> (int connectionId, int deviceId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#345851205b8c47f22eb6c95242842db6">obix_writeValue</a> (int connectionId, int deviceId, const char *paramUri, const char *newValue, OBIX_DATA_TYPE dataType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#6d554298664e9ad93b62e83d1606d02e">obix_registerListener</a> (int connectionId, int deviceId, const char *paramUri, <a class="el" href="obix__client_8h.html#0197aa45d0471b2708a5bd01c30d7786">obix_update_listener</a> listener)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="obix__client_8h.html#b1ba49dc3f3e69d1798df1661ccbf368">obix_unregisterListener</a> (int connectionId, int deviceId, int listenerId)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Contains definitions for oBIX client library.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andrey Litvinov </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>

<p>Definition in file <a class="el" href="obix__client_8h-source.html">obix_client.h</a>.</p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="0197aa45d0471b2708a5bd01c30d7786"></a><!-- doxytag: member="obix_client.h::obix_update_listener" ref="0197aa45d0471b2708a5bd01c30d7786" args=")(int connectionId, int deviceId, int listenerId, const char *newValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="obix__client_8h.html#0197aa45d0471b2708a5bd01c30d7786">obix_update_listener</a>)(int connectionId, int deviceId, int listenerId, const char *newValue)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function, which is invoked when subscribed value is changed at the oBIX server.<p>
ID arguments of the listener can be used to define which parameter was updated in case when one function is registered to handle updates of several parameters.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="obix__client_8c.html#6d554298664e9ad93b62e83d1606d02e">obix_registerListener()</a></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection from which the update is received. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device whose parameter was changed. If the parameter doesn't belong to any device which was registered by current client, than <em>0</em> will be passed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listenerId</em>&nbsp;</td><td>ID of the listener which receives the event. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newValue</em>&nbsp;</td><td>New value of the parameter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The listener should return <a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if the event was handled properly. Any other returned value will be considered by library as an error. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8h-source.html#l00108">108</a> of file <a class="el" href="obix__client_8h-source.html">obix_client.h</a>.</p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="79a73481c0495d24e290870c6d793828"></a><!-- doxytag: member="obix_client.h::OBIX_ERRORCODE" ref="79a73481c0495d24e290870c6d793828" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828">OBIX_ERRORCODE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Error codes which are returned by library functions <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628"></a><!-- doxytag: member="OBIX_SUCCESS" ref="79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628" args="" -->OBIX_SUCCESS</em>&nbsp;</td><td>
Operation is completed successfully. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d793828c1c2c76cb62586f8900a60ff05106343"></a><!-- doxytag: member="OBIX_ERR_INVALID_ARGUMENT" ref="79a73481c0495d24e290870c6d793828c1c2c76cb62586f8900a60ff05106343" args="" -->OBIX_ERR_INVALID_ARGUMENT</em>&nbsp;</td><td>
Function received wrong input argument. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d79382817b46ba016798f6c4f2300f8fa0b104a"></a><!-- doxytag: member="OBIX_ERR_NO_MEMORY" ref="79a73481c0495d24e290870c6d79382817b46ba016798f6c4f2300f8fa0b104a" args="" -->OBIX_ERR_NO_MEMORY</em>&nbsp;</td><td>
Not enough memory to complete the operation. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d7938284547ce0fe5585489b3217dd49d07a5f0"></a><!-- doxytag: member="OBIX_ERR_INVALID_STATE" ref="79a73481c0495d24e290870c6d7938284547ce0fe5585489b3217dd49d07a5f0" args="" -->OBIX_ERR_INVALID_STATE</em>&nbsp;</td><td>
Library has invalid state. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d7938289c1ccf413203a3c729060a8ce6a9c438"></a><!-- doxytag: member="OBIX_ERR_LIMIT_REACHED" ref="79a73481c0495d24e290870c6d7938289c1ccf413203a3c729060a8ce6a9c438" args="" -->OBIX_ERR_LIMIT_REACHED</em>&nbsp;</td><td>
Allocated buffer for devices or listeners is full. <dl compact><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Remove this error and enlarge arrays when needed. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d7938282dc3a47baeefd958b9fc95029a07a0c7"></a><!-- doxytag: member="OBIX_ERR_BAD_CONNECTION" ref="79a73481c0495d24e290870c6d7938282dc3a47baeefd958b9fc95029a07a0c7" args="" -->OBIX_ERR_BAD_CONNECTION</em>&nbsp;</td><td>
Error in communication with server. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d79382868ab664c04e68ef022f8247c20cf8d62"></a><!-- doxytag: member="OBIX_ERR_UNKNOWN_BUG" ref="79a73481c0495d24e290870c6d79382868ab664c04e68ef022f8247c20cf8d62" args="" -->OBIX_ERR_UNKNOWN_BUG</em>&nbsp;</td><td>
Reserved for uncaught errors. If such error occurs, this is a bug. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="79a73481c0495d24e290870c6d793828419578be489b19682df329e24be9e33f"></a><!-- doxytag: member="OBIX_ERR_HTTP_LIB" ref="79a73481c0495d24e290870c6d793828419578be489b19682df329e24be9e33f" args="" -->OBIX_ERR_HTTP_LIB</em>&nbsp;</td><td>
Error inside HTTP communication module. </td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="obix__client_8h-source.html#l00055">55</a> of file <a class="el" href="obix__client_8h-source.html">obix_client.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7b106f351f5d74dbdce3dad225fd0e4b"></a><!-- doxytag: member="obix_client.h::obix_closeConnection" ref="7b106f351f5d74dbdce3dad225fd0e4b" args="(int connectionId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_closeConnection           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes specified connection releasing all used resources. Also unregisters all devices and listeners which were registered using this connection.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be closed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> on success, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00508">508</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="obix__client_8c-source.html#l00704">obix_dispose()</a>.</p>

</div>
</div><p>
<a class="anchor" name="af779e0cf88cabf1986b7f519d427f41"></a><!-- doxytag: member="obix_client.h::obix_dispose" ref="af779e0cf88cabf1986b7f519d427f41" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_dispose           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Releases all resources allocated by library. All registered listeners and devices are unregistered, all open connections are closed.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if operation is completed successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00704">704</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__http_8c-source.html#l00911">http_dispose()</a>, <a class="el" href="obix__client_8c-source.html#l00508">obix_closeConnection()</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="obix__client_8c-source.html#l00431">obix_loadConfig()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bea2db6474251887a883016e86a02198"></a><!-- doxytag: member="obix_client.h::obix_loadConfig" ref="bea2db6474251887a883016e86a02198" args="(IXML_Element *config)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_loadConfig           </td>
          <td>(</td>
          <td class="paramtype">IXML_Element *&nbsp;</td>
          <td class="paramname"> <em>config</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes library and loads connection setting from provided DOM structure. Unlike <a class="el" href="obix__client_8c.html#227b9d2362a744a4d3af43c31eec92bb">obix_loadConfigFile()</a> it doesn't configure log system of the library. Unconfigured log writes all messages to <em>stdout</em>.<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Update description of <a class="el" href="obix__client_8c.html#bea2db6474251887a883016e86a02198">obix_loadConfig()</a> after adding log header to the library.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>config</em>&nbsp;</td><td>DOM structure representing a configuration XML. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if the library initialized successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00431">431</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8c-source.html#l00704">obix_dispose()</a>, <a class="el" href="obix__client_8h-source.html#l00060">OBIX_ERR_INVALID_ARGUMENT</a>, <a class="el" href="obix__client_8h-source.html#l00062">OBIX_ERR_NO_MEMORY</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="obix__client_8c-source.html#l00407">obix_loadConfigFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="227b9d2362a744a4d3af43c31eec92bb"></a><!-- doxytag: member="obix_client.h::obix_loadConfigFile" ref="227b9d2362a744a4d3af43c31eec92bb" args="(const char *fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_loadConfigFile           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes library and loads connection setting from XML file. Also sets up the logging system of the library.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>Name of the configuration file. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if the library initialized successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00407">407</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00060">OBIX_ERR_INVALID_ARGUMENT</a>, <a class="el" href="obix__client_8c-source.html#l00431">obix_loadConfig()</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="79a8743c9b012df3af7a06483fb7d7cc"></a><!-- doxytag: member="obix_client.h::obix_openConnection" ref="79a8743c9b012df3af7a06483fb7d7cc" args="(int connectionId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_openConnection           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens connection with oBIX server.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>Connection ID which was specified in the loaded configuration file. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if connection is opened successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00489">489</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="dd3c667748a3796f3b3945f96a86095b"></a><!-- doxytag: member="obix_client.h::obix_registerDevice" ref="dd3c667748a3796f3b3945f96a86095b" args="(int connectionId, const char *obixData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_registerDevice           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>obixData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Posts the provided device information to the oBIX server.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Input data is not tested to conform with oBIX specification. Is is strongly recommended to provide <em>displayName</em> attribute to every object. Also attributes <em>href</em> and <em>writable</em> are obligatory for all device parameters which are going to be changed by the device driver or external oBIX server users. <em>writable</em> attribute should be set to <em>true</em>; <em>href</em> attribute should have a valid URI, relative to the parent object.</dd></dl>
<br>
 Example: <div class="fragment"><pre class="fragment"> &lt;obj name=<span class="stringliteral">"light"</span> href=<span class="stringliteral">"/kitchen/light/"</span> displayName=<span class="stringliteral">"Kitchen lights"</span>&gt;
     &lt;<span class="keywordtype">bool</span> name=<span class="stringliteral">"switch"</span>
         href=<span class="stringliteral">"switch/"</span>
         displayName=<span class="stringliteral">"Switch"</span>
         is=<span class="stringliteral">"obix:bool"</span>
         val=<span class="stringliteral">"true"</span>
         writable=<span class="stringliteral">"true"</span>/&gt;
 &lt;/obj&gt;
</pre></div><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Parent object can specify <em>href</em> attribute but the oBIX server can modify it (for instance, add prefix of the device storage), thus URI can't be used to refer to the device record. Use device ID instead.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obixData</em>&nbsp;</td><td>oBIX object representing the new device. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>&gt;0 ID of the created device record; </li>
<li>&lt;0 error code. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00550">550</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00067">OBIX_ERR_LIMIT_REACHED</a>, <a class="el" href="obix__client_8h-source.html#l00071">OBIX_ERR_UNKNOWN_BUG</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="6d554298664e9ad93b62e83d1606d02e"></a><!-- doxytag: member="obix_client.h::obix_registerListener" ref="6d554298664e9ad93b62e83d1606d02e" args="(int connectionId, int deviceId, const char *paramUri, obix_update_listener listener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_registerListener           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>paramUri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="obix__client_8h.html#0197aa45d0471b2708a5bd01c30d7786">obix_update_listener</a>&nbsp;</td>
          <td class="paramname"> <em>listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers listener for device parameter updates.<p>
Overwrites existing listener if is called twice.<p>
This method can be also used to subscribe for the updates of any objects stored at the oBIX server. In that case <em>0</em> should be provided as <em>deviceId</em> and <em>paramUri</em> should be relative to the server root.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device whose parameter should be monitored or <em>0</em> if the parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paramUri</em>&nbsp;</td><td>URI of the parameter which should be monitored. It should be either relative to the device record like it was provided during device registration, or relative to the server root if changing parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Pointer to the listener function which would be invoked every time when the subscribed parameter is changed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>&gt;=0 ID of the created listener; </li>
<li>&lt;0 error code. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00601">601</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00067">OBIX_ERR_LIMIT_REACHED</a>, <a class="el" href="obix__client_8h-source.html#l00071">OBIX_ERR_UNKNOWN_BUG</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="9d339fe0e2d3c3daf42975e95747e703"></a><!-- doxytag: member="obix_client.h::obix_unregisterDevice" ref="9d339fe0e2d3c3daf42975e95747e703" args="(int connectionId, int deviceId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_unregisterDevice           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>deviceId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes device record from the oBIX server. Also removes all listeners which were registered for this device.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device which should be removed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if the device record is removed successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00583">583</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="b1ba49dc3f3e69d1798df1661ccbf368"></a><!-- doxytag: member="obix_client.h::obix_unregisterListener" ref="b1ba49dc3f3e69d1798df1661ccbf368" args="(int connectionId, int deviceId, int listenerId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_unregisterListener           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>listenerId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unregisters listener of device parameter updates.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device whose parameter is now monitored or <em>0</em> if the parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listenerId</em>&nbsp;</td><td>ID of listener to be removed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a> if the listener is removed successfully, error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00645">645</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00060">OBIX_ERR_INVALID_ARGUMENT</a>, and <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
<a class="anchor" name="345851205b8c47f22eb6c95242842db6"></a><!-- doxytag: member="obix_client.h::obix_writeValue" ref="345851205b8c47f22eb6c95242842db6" args="(int connectionId, int deviceId, const char *paramUri, const char *newValue, OBIX_DATA_TYPE dataType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obix_writeValue           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>connectionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>paramUri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>newValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OBIX_DATA_TYPE&nbsp;</td>
          <td class="paramname"> <em>dataType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Overwrites value of the specified device parameter at the oBIX server.<p>
This function can be also used to change a value of any <em>writable</em> object at the oBIX server. In that case <em>0</em> should be provided as <em>deviceId</em> and <em>paramUri</em> should be relative to the server root.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connectionId</em>&nbsp;</td><td>ID of the connection which should be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deviceId</em>&nbsp;</td><td>ID of the device whose parameter should be changed or <em>0</em> if the parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paramUri</em>&nbsp;</td><td>URI of the parameter. It should be either relative to the device record like it was provided during device registration, or relative to the server root if changing parameter doesn't belong to devices registered by this client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newValue</em>&nbsp;</td><td>Text representation of the new value to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dataType</em>&nbsp;</td><td>Type of data which is written to the server. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><em><a class="el" href="obix__client_8h.html#79a73481c0495d24e290870c6d793828c8ea6c4e868c265ae99fc48ea57a3628">OBIX_SUCCESS</a></em> on success, negative error code otherwise. </dd></dl>

<p>Definition at line <a class="el" href="obix__client_8c-source.html#l00676">676</a> of file <a class="el" href="obix__client_8c-source.html">obix_client.c</a>.</p>

<p>References <a class="el" href="obix__client_8h-source.html#l00058">OBIX_SUCCESS</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 20 18:50:46 2009 for libcot by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
